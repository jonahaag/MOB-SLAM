<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Jonathan Haag">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Get going - Model-based SLAM</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="assets/_mkdocstrings.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Get going";
    var mkdocs_page_input_path = "get_going.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="index.html" class="icon icon-home"> Model-based SLAM</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Home</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="index.html#repository-overview">Repository overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#prerequisites">Prerequisites</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="index.html#open-issues">Open issues</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">User Guide</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="get_going.html">Get going</a>
    <ul class="current">
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Components</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="gui.html">GUI</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="gui.html#basic-gui-layout">Basic GUI layout</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="gui.html#option-bar">Option Bar</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="gui.html#settings-dialog">Settings dialog</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="slam.html">SLAM</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="slam.html#slam-basics">SLAM basics</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="slam.html#orb-slam-extension-for-deformable-enviroments">ORB-SLAM extension for deformable enviroments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="slam.html#matlab-implementation">MATLAB implementation</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sofa_viewer.html">Sofa Viewer</a>
    <ul>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="feature_graph.html">Feature Graph</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="feature_graph.html#feature-matching-basics">Feature matching basics</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="feature_graph.html#problems-in-deformable-enviroments">Problems in deformable enviroments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="feature_graph.html#concept-of-graph-based-feature-matching">Concept of graph-based feature matching</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="feature_graph.html#contents">Contents</a>
    </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">API Documentation</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="api/orb.html">EngineORB</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="api/orb.html#class-engineorb">Class EngineORB</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB">gui.orb.EngineORB</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.__init__">__init__()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.add_pos_to_gt">add_pos_to_gt()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.enforce_trajectory">enforce_trajectory()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.initialize_slam">initialize_slam()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.keyPressEvent">keyPressEvent()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.main_slam">main_slam()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.read_camera_position">read_camera_position()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.set_image_source">set_image_source()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.set_main_window">set_main_window()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.set_sim">set_sim()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.set_viewer">set_viewer()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.start_sim">start_sim()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.start_slam">start_slam()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.stop_sim">stop_sim()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.stop_slam">stop_slam()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.update_sim_camera">update_sim_camera()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.update_sim_step">update_sim_step()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.update_slam">update_slam()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.viewer_info">viewer_info()</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.EngineORB.write_camera_position">write_camera_position()</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="api/orb.html#helper-function">Helper function</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="api/orb.html#gui.orb.compute_trajectory">gui.orb.compute_trajectory</a>
    </li>
        </ul>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="api/plotter.html">Plotting with pyqtgraph</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="api/plotter.html#gui.plotter">gui.plotter</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="api/plotter.html#gui.plotter.plot_ground_truth">plot_ground_truth()</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="api/plotter.html#gui.plotter.plot_slam_results">plot_slam_results()</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="api/feature_graph.html">Feature Graph</a>
    <ul>
    <li class="toctree-l2"><a class="reference internal" href="api/feature_graph.html#feature_graph.network">feature_graph.network</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="api/feature_graph.html#feature_graph.network.draw_img_and_graph">draw_img_and_graph()</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="api/feature_graph.html#feature_graph.network.extract_feature_graph">extract_feature_graph()</a>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Model-based SLAM</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Get going</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.tik.uni-stuttgart.de/JHaag/Model_based_SLAM/edit/main/docs/get_going.md"
          class="icon icon-github"> Edit on Github</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="get-going">Get going</h1>
<p>To open the GUI, step into the source folder and simply run <code>main.py</code>, e.g. via</p>
<pre><code class="language-bash"># pwd==.../Model_based_SLAM
cd src
python3 main.py
</code></pre>
<p>or execute the shell script with</p>
<pre><code class="language-bash"># pwd==.../Model_based_SLAM
./run.sh
</code></pre>
<p>First a popup dialog will open, allowing you to chose the mode consisting of the GUI layout, SLAM version, and navigation mode.</p>
<p><img src="images/welcome_dialog.png" alt="" width="300"/></p>
<p>The two options for the GUI layout are:</p>
<ul>
<li>
<p><code>Main</code>: the intended final layout consisting of</p>
<ul>
<li>option bar (very top)</li>
<li>real world view (top left)</li>
<li>simulated view (bottom left)</li>
<li>SLAM results plot (top right)</li>
<li>feature graph window (bottom right)
<br/><br/></li>
</ul>
<p>In this mode all the widgets are fixed in space and all the relevant information is visible at all times.</p>
</li>
<li>
<p><code>Test</code>: a layout that allow for more user configuration consisting of</p>
<ul>
<li>option bar (very top)</li>
<li>real world view (left)</li>
<li>SLAM results plot (right, currently in the front)</li>
<li>feature graph window (right, in the back)
<br/><br/></li>
</ul>
<p>This mode was designed specifically for the considered case, that is real world and simulated environment are basically the same.
Here the two plots on the right are (un)dockable and can be resized and reorganized to some degree.</p>
</li>
</ul>
<p>The two options for the SLAM version refer to the algorithm that is used for the scene reconstruction and position estimation:</p>
<ul>
<li><code>ORB</code>: the standard ORB-SLAM implemented in MATLAB</li>
<li><code>MOB</code>: the Model-based SLAM to keep track of deformations</li>
</ul>
<p>Note: Keep in mind that the Model-based SLAM, at least at its current stage, is quite slow compared to ORB-SLAM and does not guarantee good results in the presence of large deformations.  </p>
<p>For the navigation mode there are three different options:</p>
<ul>
<li>
<p><code>Keypoint Navigation</code>: In this case <code>Trajectory Path</code> has to link to a <code>.txt</code> file containing a set of keypoints that should be part of the trajectory. Each row corresponds to one keypoint where each keypoint consists of</p>
<ul>
<li>a time at which this keypoint has to be reached,</li>
<li>a camera position, and</li>
<li>a camera orientation.</li>
</ul>
<p>The entire trajectory is then computed in advance using linear interpolation to connect the keypoints. 
Some sample trajectories can be found in <code>src/trajectories/navigation</code>.
This is the default and most user-friendly navigation mode. </p>
</li>
<li>
<p><code>From File</code>: Similar to the keypoint navigation, the camera is also following a predefined trajectory. However in this case <code>Trajectory path</code> has to be a directory containing two files:</p>
<ul>
<li><code>camera_positions.txt</code></li>
<li><code>camera_orientation.txt</code></li>
</ul>
<p>These two files contain the entire trajectory, i.e. the position and orientation at each time step and thus have to have the same number of lines/rows.
The camera position is then set to those values and updated accordingly.
Some sample trajectories can be found in <code>src/trajectories/simple</code> and <code>src/trajectories/test</code>.</p>
</li>
<li>
<p><code>To File</code>: In contrast to the other two options, this navigation mode enables the user to record a trajectory to use in the future by controlling the camera with the keyboard controls (w-a-s-d and arrow keys).
There two different ways to do this:</p>
<ul>
<li>
<p>If <code>Trajectory path == src/trajectories/navigation</code>, a keypoint trajectory is being recorded. Maneuver to the desired positions and press <code>H</code> to add the current pose to the list of keypoints.
When the simulation is stopped, the list is written to <code>src/trajectories/navigation/keypoints_new.txt</code> and can be used in <code>Keypoint Navigation</code> mode from now on.<br/>
Note: Time steps are being recorded simultaneously. 
To increase/decrease movement speed, times can be edited manually.</p>
</li>
<li>
<p>For all other <code>Trajectory Path</code>s, the camera position and orientation at each time step is recorded and written to the desired directory.
In this case two files are created (<code>camera_positions.txt</code> and <code>camera_orientation.txt</code>) which can be used in <code>From File</code> mode.</p>
</li>
</ul>
</li>
</ul>
<p>Click <code>Ok</code> and the GUI will open.
For details on the different elements visible and their functionalities, please refer to <a href="gui.html">gui.md</a>.</p>
<p>Happy mapping!</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="index.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="gui.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
